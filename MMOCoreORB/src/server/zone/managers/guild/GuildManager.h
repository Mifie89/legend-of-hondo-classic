/*
 *	server/zone/managers/guild/GuildManager.h generated by engine3 IDL compiler 0.55
 */

#ifndef GUILDMANAGER_H_
#define GUILDMANAGER_H_

#include "engine/orb/DistributedObjectBroker.h"

class Guild;

class Player;

class ZoneServer;

class GuildMap;

class GuildManager : public DistributedObjectStub {
public:
	GuildManager(ZoneServer* server);

	void lock(bool doLock = true);

	void unlock(bool doLock = true);

	void load();

	bool createGuild(string& tag, string& name);

	Guild* getGuild(string& tag, bool doLock = true);

	Guild* getGuild(unsigned int gid, bool doLock = true);

	bool removeGuild(string& tag);

	bool removeGuild(int gid, bool doLock = true);

	void removePlayersFromGuild(int gid);

	GuildMap* getGuildMap();

protected:
	GuildManager(DummyConstructorParameter* param);

	virtual ~GuildManager();

	friend class GuildManagerHelper;
};

class GuildManagerImplementation;

class GuildManagerAdapter : public DistributedObjectAdapter {
public:
	GuildManagerAdapter(GuildManagerImplementation* impl);

	Packet* invokeMethod(sys::uint32 methid, DistributedMethod* method);

	void lock(bool doLock);

	void unlock(bool doLock);

	void load();

	bool createGuild(string& tag, string& name);

	Guild* getGuild(string& tag, bool doLock);

	Guild* getGuild(unsigned int gid, bool doLock);

	bool removeGuild(string& tag);

	bool removeGuild(int gid, bool doLock);

	void removePlayersFromGuild(int gid);

	GuildMap* getGuildMap();

protected:
	string _param0_createGuild__string_string_;
	string _param1_createGuild__string_string_;
	string _param0_getGuild__string_bool_;
	string _param0_removeGuild__string_;
};

class GuildManagerHelper : public DistributedObjectClassHelper, public Singleton<GuildManagerHelper> {
	static GuildManagerHelper* staticInitializer;

public:
	GuildManagerHelper();

	void finalizeHelper();

	DistributedObject* instantiateObject();

	DistributedObjectAdapter* createAdapter(DistributedObjectStub* obj);

	friend class SingletonWrapper<GuildManagerHelper>;
};

class GuildManagerServant : public DistributedObjectServant {
public:
	GuildManager* _this;

public:
	GuildManagerServant();
	virtual ~GuildManagerServant();

	void _setStub(DistributedObjectStub* stub);
	DistributedObjectStub* _getStub();

};

#endif /*GUILDMANAGER_H_*/
