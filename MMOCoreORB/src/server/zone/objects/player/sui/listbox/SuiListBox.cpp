/*
 *	server/zone/objects/player/sui/listbox/SuiListBox.cpp generated by engine3 IDL compiler 0.55
 */

#include "SuiListBox.h"

#include "SuiListBoxImplementation.h"

#include "../SuiBox.h"

#include "../../Player.h"

/*
 *	SuiListBoxStub
 */

SuiListBox::SuiListBox(Player* player, unsigned int boxType, unsigned int listBoxType) : SuiBox(DummyConstructorParameter::instance()) {
	_impl = new SuiListBoxImplementation(player, boxType, listBoxType);
	_impl->_setStub(this);
}

SuiListBox::SuiListBox(DummyConstructorParameter* param) : SuiBox(param) {
}

SuiListBox::~SuiListBox() {
}

void SuiListBox::addMenuItem(const string& item, unsigned long long objectID) {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 6);
		method.addAsciiParameter(item);
		method.addUnsignedLongParameter(objectID);

		method.executeWithVoidReturn();
	} else
		((SuiListBoxImplementation*) _impl)->addMenuItem(item, objectID);
}

int SuiListBox::getMenuSize() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 7);

		return method.executeWithSignedIntReturn();
	} else
		return ((SuiListBoxImplementation*) _impl)->getMenuSize();
}

unsigned long long SuiListBox::getMenuObjectID(int idx) {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 8);
		method.addSignedIntParameter(idx);

		return method.executeWithUnsignedLongReturn();
	} else
		return ((SuiListBoxImplementation*) _impl)->getMenuObjectID(idx);
}

BaseMessage* SuiListBox::generateMessage() {
	if (_impl == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 9);

		return (BaseMessage*) method.executeWithObjectReturn();
	} else
		return ((SuiListBoxImplementation*) _impl)->generateMessage();
}

/*
 *	SuiListBoxAdapter
 */

SuiListBoxAdapter::SuiListBoxAdapter(SuiListBoxImplementation* obj) : SuiBoxAdapter(obj) {
}

Packet* SuiListBoxAdapter::invokeMethod(uint32 methid, DistributedMethod* inv) {
	Packet* resp = new MethodReturnMessage(0);

	switch (methid) {
	case 6:
		addMenuItem(inv->getAsciiParameter(_param0_addMenuItem__string_long_), inv->getUnsignedLongParameter());
		break;
	case 7:
		resp->insertSignedInt(getMenuSize());
		break;
	case 8:
		resp->insertLong(getMenuObjectID(inv->getSignedIntParameter()));
		break;
	case 9:
		resp->insertLong(generateMessage()->_getObjectID());
		break;
	default:
		return NULL;
	}

	return resp;
}

void SuiListBoxAdapter::addMenuItem(const string& item, unsigned long long objectID) {
	return ((SuiListBoxImplementation*) impl)->addMenuItem(item, objectID);
}

int SuiListBoxAdapter::getMenuSize() {
	return ((SuiListBoxImplementation*) impl)->getMenuSize();
}

unsigned long long SuiListBoxAdapter::getMenuObjectID(int idx) {
	return ((SuiListBoxImplementation*) impl)->getMenuObjectID(idx);
}

BaseMessage* SuiListBoxAdapter::generateMessage() {
	return ((SuiListBoxImplementation*) impl)->generateMessage();
}

/*
 *	SuiListBoxHelper
 */

SuiListBoxHelper* SuiListBoxHelper::staticInitializer = SuiListBoxHelper::instance();

SuiListBoxHelper::SuiListBoxHelper() {
	className = "SuiListBox";

	DistributedObjectBroker::instance()->registerClass(className, this);
}

void SuiListBoxHelper::finalizeHelper() {
	SuiListBoxHelper::finalize();
}

DistributedObject* SuiListBoxHelper::instantiateObject() {
	return new SuiListBox(DummyConstructorParameter::instance());
}

DistributedObjectAdapter* SuiListBoxHelper::createAdapter(DistributedObjectStub* obj) {
	DistributedObjectAdapter* adapter = new SuiListBoxAdapter((SuiListBoxImplementation*) obj->_getImplementation());

	obj->_setClassName(className);
	obj->_setClassHelper(this);

	adapter->setStub(obj);

	return adapter;
}

/*
 *	SuiListBoxServant
 */

SuiListBoxServant::SuiListBoxServant(Player* player, unsigned int boxType, unsigned int typeId) : SuiBoxImplementation(player, boxType, typeId) {
	_classHelper = SuiListBoxHelper::instance();
}

SuiListBoxServant::~SuiListBoxServant() {
}

void SuiListBoxServant::_setStub(DistributedObjectStub* stub) {
	_this = (SuiListBox*) stub;
	SuiBoxServant::_setStub(stub);
}

DistributedObjectStub* SuiListBoxServant::_getStub() {
	return _this;
}

